import { decodeMdl } from '@m-doc/decode';
import { hexStringToArrayBuffer } from './crypto';

const data =
  'a366737461747573006776657273696f6e63312e3069646f63756d656e747381a367646f6354797065756f72672e69736f2e31383031332e352e312e6d444c6c6465766963655369676e6564a26a64657669636541757468a16f6465766963655369676e61747572658446a16131622d37a05845847444657669636541757468656e7469636174696f6e8343000000450000000000816868616e646f766572756f72672e69736f2e31383031332e352e312e6d444cd81841a05840cda02f57c5f40e6c66c09557735c699d85731bf757488ebc234c91bfe7408297248325b5b67964f98e8999d97c2b6fa160a2837927e5e046184b4410b34172da6a6e616d65537061636573d81841a06c6973737565725369676e6564a26a697373756572417574688446a16131622d37a1636b69646431323334590162a667646f6354797065756f72672e69736f2e31383031332e352e312e6d444c6776657273696f6e63312e306c76616c6964697479496e666fa3667369676e6564c07818323032342d31312d32385430363a30343a35372e3634375a6976616c696446726f6dc07818323032342d31312d32385430363a30343a35372e3634375a6a76616c6964556e74696cc07818323032342d31322d32385430363a30343a35372e3634375a6c76616c756544696765737473a06d6465766963654b6579496e666fa1696465766963654b6579a5613102622d3101622d32d84058204ca6f4bbd37b799348117434e19d8eff6c81f7e530d4ea2749eacbab134c99f0622d33d840582018576f1f87b6347433e34060b358f25d99126d34a3fb7487a3e34456e6d2c060622d34d840582028b5b51cdeae0016cd06a91b01d430c9228cb0a8d4ecc6cecf25f87e38205a066f646967657374416c676f726974686d675348412d3235365840a27857ac0fac4cc6924b808cb1755fb74d0470a71fbd1f6d6ecc85cda61f3cb7f0b446d69e1df2197be11983afd1bfdd3fd89c074359d95f23c7f9aa252877dd6a6e616d65537061636573a1716f72672e69736f2e31383031332e352e3182d8185860a46672616e646f6dd84058203254037c963343905375e5cc5b89389342d4157e857e65de4f81da37b7a0b91b686469676573744944006c656c656d656e7456616c7565654c756b617371656c656d656e744964656e746966696572646e616d65d818585da46672616e646f6dd84058202f8ff661b4c576c64458646d39032d51ecdc4fd901b8a72f971ca6bf591da818686469676573744944016c656c656d656e7456616c7565643132333471656c656d656e744964656e746966696572626964';

(async () => {
  const buffer = hexStringToArrayBuffer(data);
  const rawMdl = decodeMdl(buffer);

  console.log(rawMdl);
})();
